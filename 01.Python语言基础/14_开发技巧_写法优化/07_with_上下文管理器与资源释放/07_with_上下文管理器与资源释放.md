# 07_with_上下文管理器与资源释放

## 技巧说明

- `with` 用于管理需要成对打开/关闭的资源；
- 自动处理异常情况下的清理逻辑；
- 常见于文件、锁、数据库会话等。

---

## 示例 demo（见 `demo_with.py`）

示例涵盖：

- `with open(...)` 读写文件；
- 使用 `contextlib.contextmanager` 自定义简单上下文管理器。

---

## 练习建议

1. 检查你项目实战中所有的文件读写是否都使用了 `with`；  
2. 了解一下 FastAPI 中 `get_db` 里 `yield` + `finally` 的写法与上下文管理器的关系；  
3. 尝试自己写一个简单的计时上下文管理器，用来测量某段代码的执行时间。

