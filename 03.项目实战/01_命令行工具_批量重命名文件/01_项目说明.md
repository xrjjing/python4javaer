# 01_命令行工具_批量重命名文件

> 目标：实现一个可以在命令行中调用的「批量重命名文件」小工具，练习文件操作、循环、字符串处理和参数解析。

## 功能需求（基础版）

- 指定目标目录，对目录中的所有文件进行重命名；
- 为文件名统一加上前缀或后缀；
- 在重命名后的文件名前面加上递增序号，例如：`001_原文件名.ext`。

## 使用示例

```bash
python 03.项目实战/01_命令行工具_批量重命名文件/rename_files.py ./some_dir --prefix img_ --suffix _v1
```

## 代码文件说明

- `rename_files.py`：命令行工具主程序。

你可以在阅读代码后，尝试按照「扩展练习」自行修改或增加功能。

## 测试说明

- 本项目配套了一个简单的单元测试文件：`test_rename_files.py`。  
- 在仓库根目录运行下面命令即可只跑本项目的测试：

  ```bash
  pytest 03.项目实战/01_命令行工具_批量重命名文件/test_rename_files.py
  ```

测试内容主要包括：

- 前缀 / 后缀和序号的重命名逻辑是否正确；
- 只处理指定扩展名的过滤是否生效；
- `dry_run`（预览模式）是否不会真正改名；
- 传入的目标路径不是目录时是否会抛出 `ValueError`。

## 扩展练习

- 增加「模拟运行」参数，只打印将要重命名的结果，不真正改名；
- 增加「只处理某些扩展名」的功能，例如只重命名 `.jpg`、`.png` 文件；
- 增加日志输出，把所有重命名结果写入到一个 `rename.log` 文件。
