# 04_小型数据分析项目_销售统计

> 目标：通过一个简单的销售数据分析项目，练习如何使用 `pandas` 读取 CSV、计算统计指标，并为后续更复杂的数据项目打基础。

## 1. 项目目标

- 从一份销售记录 CSV 文件中，完成以下任务：
  - 计算总销售额；
  - 按商品统计销量和销售额；
  - 按日期统计销售趋势。

## 2. 目录与文件说明

```text
03.项目实战/
└── 04_小型数据分析项目_销售统计/
    ├── 04_项目说明.md       # 本文件
    ├── sales.csv            # 示例数据（需要你自己准备）
    └── analyze_sales.py     # 分析脚本
```

- `sales.csv`：建议包含列：
  - `date`：日期，比如 `2025-01-01`
  - `product`：商品名称，比如 `Apple`
  - `quantity`：销售数量，比如 `3`
  - `price`：单价，比如 `9.9`

示例：

```text
date,product,quantity,price
2025-01-01,Apple,3,9.9
2025-01-01,Banana,5,3.5
2025-01-02,Apple,2,9.9
```

## 3. 运行方式

1. 安装依赖：

   ```bash
   pip install pandas
   ```

2. 在项目根目录运行：

   ```bash
   python 03.项目实战/04_小型数据分析项目_销售统计/analyze_sales.py
   ```

## 5. 测试说明

- 本项目有一个基础测试文件：`test_analyze_sales.py`。  
- 在仓库根目录运行下面命令可以只跑本项目的测试：

  ```bash
  pytest 03.项目实战/04_小型数据分析项目_销售统计/test_analyze_sales.py
  ```

测试不会直接执行脚本，而是使用一份内存中的 `pandas.DataFrame`，按照脚本中的思路计算：

- 每行的 `amount = quantity * price` 是否正确；
- 按商品分组统计销售额；
- 按日期分组统计销售额。  

你可以把这个测试理解为对「脚本中核心计算逻辑」的一份文档化示例，方便以后重构脚本时对照。

## 4. 扩展练习

- 用 `matplotlib` 或 `seaborn` 将每天的销售额画成折线图；
- 统计每个月的销售额（需要先把 `date` 转成日期类型，再按月份分组）；
- 将分析结果导出到新的 CSV 或 Excel 文件，例如 `sales_report.csv`；
- 结合第 2 个项目（日志分析）的思路，设计自己的指标（如 Top N 商品、工作日 vs 周末的对比等）。
